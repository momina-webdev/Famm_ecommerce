{% extends "base.html" %}
{% load static %}
<link rel="shortcut icon" href="{% static 'img/favicon.png' %}" type="">
{% block body %}
 <link rel="stylesheet" href="{% static 'css/checkout.css' %}">
<section class="checkout-wrapper">
  <!-- Left: Checkout Form -->
  <div class="checkout-card">
    <h4 class="checkout-title">Checkout</h4>
    <form method="post" id="orderForm" action="{% url 'checkout' %}">
      {% csrf_token %}
      <div class="row g-3">
        <div class="col-md-6">
          <label>Full Name</label>
          <input type="text" name="full_name" class="form-control" placeholder="John Doe" required>
        </div>
        <div class="col-md-6">
          <label>Email</label>
          <input type="email" name="email" class="form-control" placeholder="john@example.com" required>
        </div>
        <div class="col-md-6">
          <label>Phone</label>
          <input type="text" name="phone" class="form-control" placeholder="03XX-XXXXXXX" required>
        </div>
        <div class="col-md-6">
          <label>Country</label>
          <select name="country" class="form-select" required>
            <option {% if user_country == "Pakistan" %}selected{% endif %}>Pakistan</option>
            <option>India</option>
            <option>USA</option>
            <option>UK</option>
          </select>
        </div>
        <div class="col-md-4">
          <label>City</label>
          <input type="text" name="city" class="form-control" placeholder="Lahore" required>
        </div>
        <div class="col-md-4">
          <label>State</label>
          <input type="text" name="state" class="form-control" placeholder="Punjab" required>
        </div>
        <div class="col-md-4">
          <label>ZIP</label>
          <input type="text" name="zip_code" class="form-control" placeholder="54000" required>
        </div>
        <div class="col-12">
          <label>Address</label>
          <input type="text" name="address" class="form-control" placeholder="123 Street Name" required>
        </div>
      </div>

      <div class="form-check mt-3">
        <input class="form-check-input" type="checkbox" required>
        <label class="form-check-label">I agree to the Terms & Conditions</label>
      </div>

      <button type="submit" class="btn-checkout mt-4">Place Order</button>
    </form>
  </div>

  <!-- Right: Order Summary -->
  <div class="order-summary">
    <h6 class="summary-title">Order Summary</h6>
    <ul class="list-group">
      {% for item in cart_items %}
      <li class="list-group-item d-flex justify-content-between">
        <span>{{ item.product_name }} Ã— {{ item.quantity }}</span>
        <span>${{ item.price|floatformat:2 }}</span>
      </li>
      {% endfor %}
      <li class="list-group-item total-row d-flex justify-content-between">
        <span>Total</span>
        <span>${{ total_price }}</span>
      </li>
    </ul>
  </div>
</section>
{% endblock %}
